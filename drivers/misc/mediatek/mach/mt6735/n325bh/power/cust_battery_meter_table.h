#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#define RBAT_PULL_DOWN_R		   27000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#define RBAT_PULL_DOWN_R		  100000	
#endif
#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0,4292},
	{2,4268},
	{5,4246},
	{8,4224},
	{10,4202},
	{13,4178},
	{16,4146},
	{18,4104},
	{21,4074},
	{24,4053},
	{27,4029},
	{29,4009},
	{32,3991},
	{35,3976},
	{37,3961},
	{40,3946},
	{43,3930},
	{45,3912},
	{48,3895},
	{51,3880},
	{54,3867},
	{56,3856},
	{59,3846},
	{62,3838},
	{64,3830},
	{67,3823},
	{70,3816},
	{73,3810},
	{75,3804},
	{78,3798},
	{80,3795},
	{82,3792},
	{83,3789},
	{85,3788},
	{86,3785},
	{87,3784},
	{88,3782},
	{89,3781},
	{89,3781},
	{90,3779},
	{91,3778},
	{91,3778},
	{92,3777},
	{92,3776},
	{93,3776},
	{93,3775},
	{94,3775},
	{94,3775},
	{94,3774},
	{95,3773},
	{95,3773},
	{95,3774},
	{95,3773},
	{96,3772},
	{96,3772},
	{96,3772},
	{96,3771},
	{97,3771},
	{97,3772},
	{97,3771},
	{97,3771},
	{98,3771},
	{98,3771},
	{98,3771},
	{98,3771},
	{98,3771},
	{98,3771},
	{99,3771},
	{99,3771},
	{99,3770},
	{99,3770},
	{99,3770},
	{99,3770},
	{99,3770},
	{100,3770}
};

// T1 0C
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0,4313},
	{1,4263},
	{3,4225},
	{5,4203},
	{7,4183},
	{9,4162},
	{11,4144},
	{13,4126},
	{15,4107},
	{17,4091},
	{19,4076},
	{21,4059},
	{23,4039},
	{25,4018},
	{27,4000},
	{29,3984},
	{31,3966},
	{33,3950},
	{35,3933},
	{37,3917},
	{39,3901},
	{41,3887},
	{42,3875},
	{44,3864},
	{46,3854},
	{48,3845},
	{50,3837},
	{52,3829},
	{54,3822},
	{56,3816},
	{58,3808},
	{60,3803},
	{62,3797},
	{64,3791},
	{66,3787},
	{68,3782},
	{70,3778},
	{72,3773},
	{74,3768},
	{76,3762},
	{78,3753},
	{80,3744},
	{82,3733},
	{83,3722},
	{85,3712},
	{87,3705},
	{89,3701},
	{91,3696},
	{93,3691},
	{95,3686},
	{95,3682},
	{96,3677},
	{97,3671},
	{97,3665},
	{97,3659},
	{98,3652},
	{98,3645},
	{98,3639},
	{98,3633},
	{98,3628},
	{99,3624},
	{99,3620},
	{99,3617},
	{99,3613},
	{99,3610},
	{99,3607},
	{99,3605},
	{99,3603},
	{99,3601},
	{99,3599},
	{99,3597},
	{99,3595},
	{99,3594},
	{100,3592},
	{100,3592}
};

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0,4335},
	{1,4313},
	{3,4293},
	{5,4273},
	{7,4254},
	{8,4235},
	{10,4216},
	{12,4197},
	{14,4178},
	{15,4160},
	{17,4142},
	{19,4124},
	{21,4107},
	{22,4090},
	{24,4076},
	{26,4059},
	{28,4041},
	{30,4024},
	{31,4008},
	{33,3992},
	{35,3978},
	{37,3965},
	{38,3951},
	{40,3933},
	{42,3914},
	{44,3896},
	{45,3881},
	{47,3868},
	{49,3858},
	{51,3849},
	{53,3841},
	{54,3833},
	{56,3825},
	{58,3819},
	{60,3812},
	{61,3806},
	{63,3799},
	{65,3795},
	{67,3789},
	{68,3784},
	{70,3779},
	{72,3773},
	{74,3768},
	{76,3762},
	{77,3754},
	{79,3746},
	{81,3738},
	{83,3724},
	{84,3710},
	{86,3692},
	{88,3687},
	{90,3685},
	{91,3684},
	{93,3681},
	{95,3668},
	{97,3603},
	{99,3497},
	{100,3350},
	{100,3318},
	{100,3302},
	{100,3294},
	{100,3291},
	{100,3288},
	{100,3285},
	{100,3284},
	{100,3284},
	{100,3281},
	{100,3279},
	{100,3278},
	{100,3276},
	{100,3275},
	{100,3273},
	{100,3272},
	{100,3269},
	{100,3269}
};

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0,4342},
	{1,4323},
	{3,4303},
	{5,4285},
	{6,4265},
	{8,4247},
	{10,4228},
	{12,4210},
	{13,4190},
	{15,4172},
	{17,4154},
	{19,4136},
	{20,4118},
	{22,4101},
	{24,4083},
	{26,4067},
	{27,4051},
	{29,4036},
	{31,4019},
	{33,4004},
	{34,3990},
	{36,3976},
	{38,3962},
	{40,3948},
	{41,3933},
	{43,3914},
	{45,3894},
	{47,3878},
	{48,3866},
	{50,3856},
	{52,3847},
	{54,3838},
	{55,3831},
	{57,3823},
	{59,3816},
	{61,3808},
	{62,3802},
	{64,3796},
	{66,3791},
	{68,3785},
	{69,3779},
	{71,3768},
	{73,3758},
	{75,3752},
	{76,3743},
	{78,3736},
	{80,3728},
	{82,3721},
	{83,3708},
	{85,3694},
	{87,3676},
	{89,3673},
	{90,3671},
	{92,3670},
	{94,3665},
	{96,3645},
	{97,3574},
	{99,3454},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273},
	{100,3273}
};

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{278,4292},
	{1007,4268},
	{1017,4246},
	{1020,4224},
	{1027,4202},
	{1042,4178},
	{1070,4146},
	{1177,4104},
	{1332,4074},
	{1355,4053},
	{1360,4029},
	{1372,4009},
	{1382,3991},
	{1392,3976},
	{1400,3961},
	{1410,3946},
	{1410,3930},
	{1405,3912},
	{1400,3895},
	{1402,3880},
	{1405,3867},
	{1410,3856},
	{1415,3846},
	{1427,3838},
	{1440,3830},
	{1450,3823},
	{1460,3816},
	{1472,3810},
	{1482,3804},
	{1497,3798},
	{1490,3795},
	{1480,3792},
	{1472,3789},
	{1470,3788},
	{1462,3785},
	{1460,3784},
	{1455,3782},
	{1455,3781},
	{1452,3781},
	{1447,3779},
	{1447,3778},
	{1447,3778},
	{1445,3777},
	{1445,3776},
	{1442,3776},
	{1440,3775},
	{1440,3775},
	{1440,3775},
	{1437,3774},
	{1435,3773},
	{1435,3773},
	{1437,3774},
	{1435,3773},
	{1435,3772},
	{1435,3772},
	{1430,3772},
	{1432,3771},
	{1427,3771},
	{1435,3772},
	{1432,3771},
	{1432,3771},
	{1430,3771},
	{1430,3771},
	{1435,3771},
	{1427,3771},
	{1430,3771},
	{1430,3771},
	{1427,3771},
	{1430,3771},
	{1430,3770},
	{1427,3770},
	{1430,3770},
	{1425,3770},
	{1430,3770},
	{1425,3770}
};

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{220,4313},
	{495,4263},
	{595,4225},
	{620,4203},
	{632,4183},
	{637,4162},
	{650,4144},
	{660,4126},
	{667,4107},
	{675,4091},
	{687,4076},
	{697,4059},
	{702,4039},
	{707,4018},
	{712,4000},
	{715,3984},
	{712,3966},
	{712,3950},
	{707,3933},
	{700,3917},
	{697,3901},
	{697,3887},
	{702,3875},
	{707,3864},
	{712,3854},
	{720,3845},
	{727,3837},
	{737,3829},
	{745,3822},
	{760,3816},
	{765,3808},
	{777,3803},
	{790,3797},
	{792,3791},
	{805,3787},
	{822,3782},
	{840,3778},
	{862,3773},
	{885,3768},
	{907,3762},
	{925,3753},
	{945,3744},
	{962,3733},
	{982,3722},
	{1000,3712},
	{1030,3705},
	{1070,3701},
	{1122,3696},
	{1190,3691},
	{1217,3686},
	{1207,3682},
	{1195,3677},
	{1182,3671},
	{1162,3665},
	{1150,3659},
	{1130,3652},
	{1117,3645},
	{1097,3639},
	{1087,3633},
	{1075,3628},
	{1065,3624},
	{1060,3620},
	{1045,3617},
	{1040,3613},
	{1035,3610},
	{1025,3607},
	{1017,3605},
	{1020,3603},
	{1012,3601},
	{1004,3599},
	{1004,3597},
	{995,3595},
	{997,3594},
	{987,3592},
	{990,3592}
};

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{148,4335},
	{170,4313},
	{175,4293},
	{175,4273},
	{177,4254},
	{182,4235},
	{182,4216},
	{182,4197},
	{185,4178},
	{187,4160},
	{192,4142},
	{190,4124},
	{195,4107},
	{200,4090},
	{207,4076},
	{207,4059},
	{210,4041},
	{215,4024},
	{222,4008},
	{227,3992},
	{230,3978},
	{232,3965},
	{230,3951},
	{220,3933},
	{205,3914},
	{192,3896},
	{185,3881},
	{182,3868},
	{185,3858},
	{185,3849},
	{187,3841},
	{190,3833},
	{192,3825},
	{197,3819},
	{200,3812},
	{200,3806},
	{202,3799},
	{207,3795},
	{207,3789},
	{212,3784},
	{212,3779},
	{210,3773},
	{212,3768},
	{212,3762},
	{212,3754},
	{215,3746},
	{222,3738},
	{220,3724},
	{225,3710},
	{220,3692},
	{222,3687},
	{232,3685},
	{247,3684},
	{267,3681},
	{285,3668},
	{287,3603},
	{330,3497},
	{375,3350},
	{297,3318},
	{260,3302},
	{242,3294},
	{230,3291},
	{222,3288},
	{222,3285},
	{220,3284},
	{215,3284},
	{220,3281},
	{217,3279},
	{202,3278},
	{215,3276},
	{217,3275},
	{217,3273},
	{220,3272},
	{217,3269},
	{222,3269}
};

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{118,4342},
	{117,4323},
	{115,4303},
	{120,4285},
	{117,4265},
	{122,4247},
	{120,4228},
	{125,4210},
	{122,4190},
	{125,4172},
	{125,4154},
	{127,4136},
	{130,4118},
	{132,4101},
	{130,4083},
	{135,4067},
	{135,4051},
	{137,4036},
	{140,4019},
	{145,4004},
	{145,3990},
	{150,3976},
	{155,3962},
	{160,3948},
	{160,3933},
	{147,3914},
	{135,3894},
	{125,3878},
	{122,3866},
	{120,3856},
	{122,3847},
	{125,3838},
	{130,3831},
	{130,3823},
	{132,3816},
	{130,3808},
	{135,3802},
	{137,3796},
	{140,3791},
	{140,3785},
	{142,3779},
	{132,3768},
	{130,3758},
	{132,3752},
	{130,3743},
	{130,3736},
	{127,3728},
	{132,3721},
	{130,3708},
	{132,3694},
	{125,3676},
	{130,3673},
	{132,3671},
	{140,3670},
	{140,3665},
	{147,3645},
	{162,3574},
	{162,3454},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273},
	{185,3273}
};

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

